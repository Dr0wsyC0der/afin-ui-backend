# AFIN - ะกะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะฑะธะทะฝะตั-ะฟัะพัะตััะฐะผะธ ั ะะ-ะฐะฝะฐะปะธัะธะบะพะน

ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ะผะพะดะตะปะธัะพะฒะฐะฝะธั, ัะธะผัะปััะธะธ, ะฐะฝะฐะปะธัะธะบะธ ะฑะธะทะฝะตั-ะฟัะพัะตััะพะฒ ะธ ะฟัะพะณะฝะพะทะธัะพะฒะฐะฝะธั ะทะฐะดะตัะถะตะบ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะผะฐัะธะฝะฝะพะณะพ ะพะฑััะตะฝะธั ะธ ะธัะบััััะฒะตะฝะฝะพะณะพ ะธะฝัะตะปะปะตะบัะฐ.

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะะฑะทะพั ะฟัะพะตะบัะฐ](#ะพะฑะทะพั-ะฟัะพะตะบัะฐ)
- [ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ](#ัะตัะฝะพะปะพะณะธัะตัะบะธะน-ััะตะบ)
- [ะััะธัะตะบัััะฐ](#ะฐััะธัะตะบัััะฐ)
- [ะกัััะบัััะฐ ะฟัะพะตะบัะฐ](#ััััะบัััะฐ-ะฟัะพะตะบัะฐ)
- [ะะฟะธัะฐะฝะธะต ะผะพะดัะปะตะน](#ะพะฟะธัะฐะฝะธะต-ะผะพะดัะปะตะน)
- [ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ](#ัััะฐะฝะพะฒะบะฐ-ะธ-ะทะฐะฟััะบ)
- [ะะพะฝัะธะณััะฐัะธั](#ะบะพะฝัะธะณััะฐัะธั)
- [ะัะฟะพะปัะทะพะฒะฐะฝะธะต](#ะธัะฟะพะปัะทะพะฒะฐะฝะธะต)
- [API ะะพะบัะผะตะฝัะฐัะธั](#api-ะดะพะบัะผะตะฝัะฐัะธั)

---

## ๐ฏ ะะฑะทะพั ะฟัะพะตะบัะฐ

AFIN โ ััะพ ะบะพะผะฟะปะตะบัะฝะพะต ัะตัะตะฝะธะต ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะธ ะพะฟัะธะผะธะทะฐัะธะธ ะฑะธะทะฝะตั-ะฟัะพัะตััะพะฒ. ะะปะฐััะพัะผะฐ ะฟะพะทะฒะพะปัะตั:

- **ะะพะดะตะปะธัะพะฒะฐัั** ะฑะธะทะฝะตั-ะฟัะพัะตััั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะฝะพัะฐัะธะธ BPMN
- **ะกะธะผัะปะธัะพะฒะฐัั** ะฟัะพัะตััั ั ัะฐะทะปะธัะฝัะผะธ ะฟะฐัะฐะผะตััะฐะผะธ
- **ะะฝะฐะปะธะทะธัะพะฒะฐัั** ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะฟัะพัะตััะพะฒ ะธ ัะทะบะธะต ะผะตััะฐ
- **ะัะพะณะฝะพะทะธัะพะฒะฐัั** ะทะฐะดะตัะถะบะธ ะฒ ะทะฐะดะฐัะฐั ั ะฟะพะผะพััั ะผะพะดะตะปะตะน ะผะฐัะธะฝะฝะพะณะพ ะพะฑััะตะฝะธั
- **ะะตะฝะตัะธัะพะฒะฐัั** ะพะฑัััะฝะตะฝะธั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะะ (LLM)

---

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Frontend (`afin-frontend/`)
- **React 18** - ัะพะฒัะตะผะตะฝะฝัะน UI-ััะตะนะผะฒะพัะบ ั TypeScript
- **Vite** - ะฑัััััะน ัะฑะพััะธะบ ะฟัะธะปะพะถะตะฝะธะน
- **TypeScript** - ัะธะฟะธะทะฐัะธั ะธ ะฝะฐะดะตะถะฝะพััั ะบะพะดะฐ
- **Tailwind CSS v3** - ััะธะปะธัะฐัะฝัะน CSS-ััะตะนะผะฒะพัะบ
- **React Router DOM** - ะผะฐัััััะธะทะฐัะธั
- **React Flow** - ะฒะธะทัะฐะปะธะทะฐัะธั ะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต BPMN ะดะธะฐะณัะฐะผะผ
- **Recharts** - ะพัะพะฑัะฐะถะตะฝะธะต ะณัะฐัะธะบะพะฒ ะธ ะดะธะฐะณัะฐะผะผ
- **TanStack React Table** - ะฟัะพะดะฒะธะฝัััะต ัะฐะฑะปะธัั
- **Axios** - HTTP ะบะปะธะตะฝั
- **Nginx** - ะฒะตะฑ-ัะตัะฒะตั ะดะปั production (ะฒ Docker)

### Backend (`afin-backend/`)
- **FastAPI** - ะฒััะพะบะพัะบะพัะพััะฝะพะน Python ะฒะตะฑ-ััะตะนะผะฒะพัะบ
- **Python 3.10+** - ัะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั
- **SQLAlchemy** - ORM ะดะปั ัะฐะฑะพัั ั ะะ
- **Pydantic** - ะฒะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั ะธ ัะตัะธะฐะปะธะทะฐัะธั
- **SQLite** - ะฑะฐะทะฐ ะดะฐะฝะฝัั (ะดะปั ัะฐะทัะฐะฑะพัะบะธ ะธ testing)
- **Python-jose** - ัะฐะฑะพัะฐ ั JWT ัะพะบะตะฝะฐะผะธ
- **Passlib + bcrypt** - ัะตัะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน
- **Uvicorn** - ASGI ัะตัะฒะตั
- **Redis** - ะบััะธัะพะฒะฐะฝะธะต ะธ ะพัะตัะตะดั ะทะฐะดะฐั

### AI/ML ัะตัะฒะธั (`ะัะพะตะบั_AI_ะฐััะธััะตะฝั_ัะฒะตะถะธะน/`)
- **FastAPI** - ะฒะตะฑ-ััะตะนะผะฒะพัะบ
- **LightGBM** - ะผะพะดะตะปั ะผะฐัะธะฝะฝะพะณะพ ะพะฑััะตะฝะธั ะดะปั ะฟัะพะณะฝะพะทะธัะพะฒะฐะฝะธั ะทะฐะดะตัะถะตะบ
- **scikit-learn** - ะพะฑัะฐะฑะพัะบะฐ ะดะฐะฝะฝัั ะธ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
- **Hugging Face Transformers** - LLM ะดะปั ะณะตะฝะตัะฐัะธะธ ะพะฑัััะฝะตะฝะธะน
- **Qwen2 1.5B** - ัะทัะบะพะฒะฐั ะผะพะดะตะปั (ะธะปะธ ะบะฐััะพะผะฝะฐั ะฒะตััะธั)
- **SimPy** - ะดะธัะบัะตัะฝะฐั ัะธะผัะปััะธั ะฟัะพัะตััะพะฒ
- **Pandas** - ัะฐะฑะพัะฐ ั ัะฐะฑะปะธัะฝัะผะธ ะดะฐะฝะฝัะผะธ
- **Joblib** - ัะตัะธะฐะปะธะทะฐัะธั ะผะพะดะตะปะตะน

### ะะฝััะฐััััะบัััะฐ
- **Docker** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- **Docker Compose** - ะพัะบะตัััะฐัะธั ะบะพะฝัะตะนะฝะตัะพะฒ
- **SQLite** - ะฒัััะพะตะฝะฝะฐั ะะ

---

## ๐๏ธ ะััะธัะตะบัััะฐ

ะัะพะตะบั ะฟะพัััะพะตะฝ ะฝะฐ ะผะธะบัะพัะตัะฒะธัะฝะพะน ะฐััะธัะตะบัััะต ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ Docker Compose:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    NGINX (PORT 3000)                        โ
โ                   (Frontend - React/Vite)                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                         โ
                         โผ
         โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ  Backend Gateway (PORT 8000)  โ
         โ  (FastAPI - Python)           โ
         โโโโโโโโฌโโโโโโโโโฌโโโโโโโโโฌโโโโโโโ
                โ        โ        โ
      โโโโโโโโโโโผโโโ โโโโผโโโโโโโโโโ โโโโโโโโผโโโโโโโโโ
      โ  Auth      โ โ Simulation โ โ  Analytics   โ
      โ Service    โ โ Service    โ โ  Service     โ
      โโโโโโโโโโโโโโ โโโโโโโโโโโโโโ โโโโโโโโฌโโโโโโโโ
                                           โ
                    โโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโ
                    โ  AI Assistant Service           โ
                    โ  (FastAPI + ML + LLM)           โ
                    โ  - ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะทะฐะดะตัะถะตะบ     โ
                    โ  - ะะตะฝะตัะฐัะธั ะพะฑัััะฝะตะฝะธะน         โ
                    โ  (ะะพัั: 8001, ะฒ Docker: 8000)   โ
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ      SQLite Database                 โ
    โ  (./afin-backend/storage/afin.db)    โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
afin/
โโโ README.md                                    # ๐ ะั ะฝะฐัะพะดะธัะตัั ะทะดะตัั
โโโ docker-compose.yml                           # ะะพะฝัะธะณััะฐัะธั ะฒัะตั ัะตัะฒะธัะพะฒ
โ
โโโ afin-backend/                                # Backend ะผะธะบัะพัะตัะฒะธัั (Python/FastAPI)
โ   โโโ requirements.txt                         # Python ะทะฐะฒะธัะธะผะพััะธ
โ   โโโ QUICK_START.md                          # ะัััััะน ััะฐัั ะดะปั backend
โ   โโโ start_backend.ps1                       # PowerShell ัะบัะธะฟั ะทะฐะฟััะบะฐ
โ   โ
โ   โโโ shared/                                 # ะะฑัะฐั ะบะพะฝัะธะณััะฐัะธั ะธ ััะธะปะธัั
โ   โ   โโโ config.py                           # ะะฐัััะพะนะบะธ ะฟัะธะปะพะถะตะฝะธั
โ   โ   โโโ database.py                         # ะะฝะธัะธะฐะปะธะทะฐัะธั ะะ (SQLAlchemy)
โ   โ   โโโ exceptions.py                       # ะะฐััะพะผะฝัะต ะธัะบะปััะตะฝะธั
โ   โ
โ   โโโ services/                               # ะะธะบัะพัะตัะฒะธัั
โ   โ   โ
โ   โ   โโโ gateway/                            # ๐ช Gateway (ะณะปะฐะฒะฝัะน entry point)
โ   โ   โ   โโโ main.py                        # FastAPI ะฟัะธะปะพะถะตะฝะธะต (PORT 8000)
โ   โ   โ
โ   โ   โโโ auth/                               # ๐ ะกะตัะฒะธั ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ   โ   โ   โโโ main.py                        # FastAPI ะฟัะธะปะพะถะตะฝะธะต
โ   โ   โ   โโโ routers.py                     # API ะผะฐัััััั ัะตะณะธัััะฐัะธะธ/ะปะพะณะธะฝะฐ
โ   โ   โ   โโโ models.py                      # ORM ะผะพะดะตะปะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
โ   โ   โ   โโโ crud.py                        # CRUD ะพะฟะตัะฐัะธะธ
โ   โ   โ   โโโ schemas.py                     # Pydantic ััะตะผั ะทะฐะฟัะพัะพะฒ/ะพัะฒะตัะพะฒ
โ   โ   โ   โโโ utils/
โ   โ   โ       โโโ jwt.py                     # JWT ัะพะบะตะฝั (ัะพะทะดะฐะฝะธะต, ะฟัะพะฒะตัะบะฐ)
โ   โ   โ       โโโ password.py                # ะฅะตัะธัะพะฒะฐะฝะธะต ะธ ะฟัะพะฒะตัะบะฐ ะฟะฐัะพะปั
โ   โ   โ
โ   โ   โโโ models/                             # ๐ ะกะตัะฒะธั ะผะพะดะตะปะตะน ะฟัะพัะตััะพะฒ
โ   โ   โ   โโโ main.py                        # FastAPI ะฟัะธะปะพะถะตะฝะธะต
โ   โ   โ   โโโ routers.py                     # API CRUD ะดะปั ะผะพะดะตะปะตะน
โ   โ   โ   โโโ models.py                      # ORM ะผะพะดะตะปะธ (Model, Element)
โ   โ   โ   โโโ crud.py                        # CRUD ะพะฟะตัะฐัะธะธ
โ   โ   โ   โโโ schemas.py                     # Pydantic ััะตะผั
โ   โ   โ   โโโ utils/
โ   โ   โ       โโโ bpmn.py                    # ะฃัะธะปะธัั ะดะปั ัะฐะฑะพัั ั BPMN
โ   โ   โ
โ   โ   โโโ simulation/                         # โ๏ธ ะกะตัะฒะธั ัะธะผัะปััะธะธ
โ   โ   โ   โโโ main.py                        # FastAPI ะฟัะธะปะพะถะตะฝะธะต
โ   โ   โ   โโโ routers.py                     # API ะดะปั ะทะฐะฟััะบะฐ ัะธะผัะปััะธะน
โ   โ   โ   โโโ models.py                      # ORM ะผะพะดะตะปะธ (Simulation, Result)
โ   โ   โ   โโโ crud.py                        # CRUD ะพะฟะตัะฐัะธะธ
โ   โ   โ   โโโ schemas.py                     # Pydantic ััะตะผั
โ   โ   โ   โโโ company_context.py             # ะะพะฝัะตะบัั ะบะพะผะฟะฐะฝะธะธ ะดะปั ัะธะผัะปััะธะธ
โ   โ   โ   โโโ engine/
โ   โ   โ       โโโ simulator.py               # ๐ฎ ะฏะดัะพ ัะธะผัะปััะธะธ (SimPy)
โ   โ   โ
โ   โ   โโโ analytics/                          # ๐ ะกะตัะฒะธั ะฐะฝะฐะปะธัะธะบะธ
โ   โ   โ   โโโ main.py                        # FastAPI ะฟัะธะปะพะถะตะฝะธะต
โ   โ   โ   โโโ routers.py                     # API ะฐะฝะฐะปะธัะธัะตัะบะธั ะผะตััะธะบ
โ   โ   โ   โโโ models.py                      # ORM ะผะพะดะตะปะธ
โ   โ   โ   โโโ crud.py                        # CRUD ะพะฟะตัะฐัะธะธ
โ   โ   โ   โโโ schemas.py                     # Pydantic ััะตะผั
โ   โ   โ   โโโ llm_client.py                  # ะะปะธะตะฝั ะดะปั AI ัะตัะฒะธัะฐ
โ   โ   โ   โโโ ml_model_loader.py             # ะะฐะณััะทะบะฐ ML ะผะพะดะตะปะธ
โ   โ   โ   โโโ ml/
โ   โ   โ       โโโ clustering.py              # ะะปะฐััะตัะธะทะฐัะธั ะฟัะพัะตััะพะฒ
โ   โ   โ       โโโ regression.py              # ะะตะณัะตััะธะพะฝะฝัะน ะฐะฝะฐะปะธะท
โ   โ   โ
โ   โ   โโโ models/ (ML ะผะพะดะตะปั)                 # ะกะพััะฐะฝะตะฝะฝะฐั LightGBM ะผะพะดะตะปั
โ   โ       โโโ delay_predictor.txt            # ะคะฐะนะป ะผะพะดะตะปะธ LightGBM
โ   โ       โโโ feature_names.json             # ะะฐะทะฒะฐะฝะธั ะฟัะธะทะฝะฐะบะพะฒ
โ   โ
โ   โโโ storage/                                # ๐พ ะฅัะฐะฝะธะปะธัะต ะดะฐะฝะฝัั
โ       โโโ afin.db                            # SQLite ะะ (ัะพะทะดะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ)
โ
โโโ afin-frontend/                              # Frontend ะฟัะธะปะพะถะตะฝะธะต (React/TypeScript)
โ   โโโ package.json                            # NPM ะทะฐะฒะธัะธะผะพััะธ
โ   โโโ tsconfig.json                           # ะะพะฝัะธะณััะฐัะธั TypeScript
โ   โโโ vite.config.ts                          # ะะพะฝัะธะณััะฐัะธั Vite
โ   โโโ tailwind.config.js                      # ะะพะฝัะธะณััะฐัะธั Tailwind CSS
โ   โโโ nginx.conf                              # ะะพะฝัะธะณััะฐัะธั Nginx ะดะปั production
โ   โ
โ   โโโ frontend/src/                           # ะััะพะดะฝัะน ะบะพะด ะฟัะธะปะพะถะตะฝะธั
โ   โ   โโโ main.tsx                            # Entry point ะฟัะธะปะพะถะตะฝะธั
โ   โ   โโโ App.tsx                             # ะะพัะฝะตะฒะพะน ะบะพะผะฟะพะฝะตะฝั
โ   โ   โโโ index.css                           # ะะปะพะฑะฐะปัะฝัะต ััะธะปะธ
โ   โ   โ
โ   โ   โโโ components/                         # ๐งฉ ะะตัะตะธัะฟะพะปัะทัะตะผัะต ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โ   โโโ Layout.tsx                      # ะะปะฐะฒะฝะฐั ัะฐัะบะปะฐะดะบะฐ ะฟัะธะปะพะถะตะฝะธั
โ   โ   โ   โโโ PrivateRoute.tsx                # ะะฐัะธัะฐ ะผะฐัััััะพะฒ (ััะตะฑัะตั ะฐะฒัะพัะธะทะฐัะธะธ)
โ   โ   โ
โ   โ   โโโ pages/                              # ๐ ะกััะฐะฝะธัั ะฟัะธะปะพะถะตะฝะธั
โ   โ   โ   โโโ Dashboard.tsx                   # ะะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั (ะณะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ)
โ   โ   โ   โโโ Models.tsx                      # ะกะฟะธัะพะบ ะผะพะดะตะปะตะน ะฟัะพัะตััะพะฒ
โ   โ   โ   โโโ ModelEditor.tsx                 # BPMN ัะตะดะฐะบัะพั
โ   โ   โ   โโโ Simulations.tsx                 # ะกะฟะธัะพะบ ัะธะผัะปััะธะน
โ   โ   โ   โโโ SimulationRun.tsx               # ะะฐะฟััะบ ะธ ะบะพะฝัะธะณััะฐัะธั ัะธะผัะปััะธะธ
โ   โ   โ   โโโ Analytics.tsx                   # ะะฝะฐะปะธัะธะบะฐ ะธ ะพััะตัั
โ   โ   โ   โโโ Profile.tsx                     # ะัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั
โ   โ   โ   โโโ Login.tsx                       # ะคะพัะผะฐ ะฒัะพะดะฐ
โ   โ   โ   โโโ Register.tsx                    # ะคะพัะผะฐ ัะตะณะธัััะฐัะธะธ
โ   โ   โ
โ   โ   โโโ contexts/                           # ๐ React Context ะดะปั ัะพััะพัะฝะธั
โ   โ   โ   โโโ AuthContext.tsx                 # ะะพะฝัะตะบัั ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ   โ   โ   โโโ ...                             # ะััะณะธะต ะบะพะฝัะตะบััั
โ   โ   โ
โ   โ   โโโ services/                           # ๐ API ัะตัะฒะธัั
โ   โ   โ   โโโ api.ts                          # ะะพะฝัะธะณััะฐัะธั Axios
โ   โ   โ   โโโ authService.ts                  # ะะพะณะธะฝ, ัะตะณะธัััะฐัะธั, ัะพะบะตะฝั
โ   โ   โ   โโโ modelService.ts                 # CRUD ะผะพะดะตะปะตะน ะฟัะพัะตััะพะฒ
โ   โ   โ   โโโ simulationService.ts            # ะะฐะฟััะบ ัะธะผัะปััะธะน
โ   โ   โ   โโโ analyticsService.ts             # ะะพะปััะตะฝะธะต ะฐะฝะฐะปะธัะธะบะธ
โ   โ   โ
โ   โ   โโโ hooks/                              # ๐ช Custom React Hooks
โ   โ   โ   โโโ useAuth.ts                      # ะฅัะบ ะดะปั ัะฐะฑะพัั ั ะฐััะตะฝัะธัะธะบะฐัะธะตะน
โ   โ   โ
โ   โ   โโโ types/                              # ๐ TypeScript ัะธะฟั
โ   โ   โ   โโโ index.ts                        # ะะฟัะตะดะตะปะตะฝะธั ัะธะฟะพะฒ
โ   โ   โ
โ   โ   โโโ utils/                              # ๐๏ธ ะฃัะธะปะธัั
โ   โ   โ   โโโ ...                             # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
โ   โ   โ
โ   โ   โโโ data/                               # ๐ ะกัะฐัะธัะตัะบะธะต ะดะฐะฝะฝัะต
โ   โ       โโโ ...                             # ะัะธะผะตัั ะดะฐะฝะฝัั, ะบะพะฝัะธะณััะฐัะธะธ
โ   โ
โ   โโโ Dockerfile                              # Docker ะพะฑัะฐะท ะดะปั production
โ
โโโ ะัะพะตะบั_AI_ะฐััะธััะตะฝั_ัะฒะตะถะธะน/                 # AI/ML ัะตัะฒะธั (Python/FastAPI)
โ   โโโ requirements.txt                        # Python ะทะฐะฒะธัะธะผะพััะธ
โ   โโโ Dockerfile                              # Docker ะพะฑัะฐะท
โ   โโโ run_server.py                           # ะกะบัะธะฟั ะทะฐะฟััะบะฐ ัะตัะฒะตัะฐ
โ   โ
โ   โโโ FastAPI_server.py                       # ๐ ะะปะฐะฒะฝะพะต FastAPI ะฟัะธะปะพะถะตะฝะธะต
โ   โ                                           #    ะญะฝะดะฟะพะธะฝัั:
โ   โ                                           #    - POST /predict_delay
โ   โ                                           #    - POST /explain
โ   โ                                           #    - GET /health
โ   โ
โ   โโโ model_and_scaler.py                     # ๐ฆ ะะฐะณััะทะบะฐ ะผะพะดะตะปะธ LightGBM
โ   โ                                           #    ะธ StandardScaler
โ   โ
โ   โโโ model_loader.py                         # ะะฐะณััะทัะธะบ ะผะพะดะตะปะธ (ะฐะปััะตัะฝะฐัะธะฒะฐ)
โ   โ
โ   โโโ client_request.py                       # ๐ ะะปะธะตะฝั ะดะปั ัะตััะธัะพะฒะฐะฝะธั API
โ   โ
โ   โโโ ping_server.py                          # ๐ ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ ัะตัะฒะตัะฐ
โ   โ
โ   โโโ synthetic_company_data.json              # ๐ ะกะธะฝัะตัะธัะตัะบะธะต ัะตััะพะฒัะต ะดะฐะฝะฝัะต
โ   โ
โ   โโโ tasks_log.csv                           # ๐ ะะพะณ ะธััะพัะธัะตัะบะธั ะทะฐะดะฐั
โ   โ
โ   โโโ best_model_LightGBM/                     # ๐ค ะะฑััะตะฝะฝะฐั LightGBM ะผะพะดะตะปั
โ   โ   โโโ delay_predictor.txt                 # ะคะฐะนะป ะผะพะดะตะปะธ (ัะตะบััะพะฒัะน ัะพัะผะฐั)
โ   โ   โโโ feature_names.json                  # ะะฐะทะฒะฐะฝะธั ะฟัะธะทะฝะฐะบะพะฒ ะผะพะดะตะปะธ
โ   โ
โ   โโโ LLM/                                     # ๐ง ะะพะดัะธััะตะผะฐ ัะทัะบะพะฒะพะน ะผะพะดะตะปะธ
โ       โโโ download_model_with_lora.py         # ะะฐะณััะทะบะฐ ะผะพะดะตะปะธ ั LoRA ะฐะดะฐะฟัะตัะฐะผะธ
โ       โโโ model_loader.py                     # ะะฐะณััะทัะธะบ Hugging Face ะผะพะดะตะปะธ
โ       โโโ model_predictor.py                  # ๐ฏ ะะตะฝะตัะฐัะธั ะพะฑัััะฝะตะฝะธะน ั LLM
โ       โโโ test_llm_client.py                  # ะขะตััั ะบะปะธะตะฝัะฐ LLM
โ       โโโ test.py                             # ะขะตััั ะผะพะดะตะปะธ
โ       โโโ train_explain.csv                   # ะะฐะฝะฝัะต ะดะปั ะพะฑััะตะฝะธั ะพะฑัััะฝะตะฝะธะน
โ
โโโ docker-compose.yml                          # ะะปะฐะฒะฝัะน ะบะพะฝัะธะณ ะดะปั ะฒัะตั ะบะพะฝัะตะนะฝะตัะพะฒ
```

---

## ๐ง ะะฟะธัะฐะฝะธะต ะผะพะดัะปะตะน

### Frontend (`afin-frontend/`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:** ะะพะปัะทะพะฒะฐัะตะปััะบะธะน ะธะฝัะตััะตะนั ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั.

**ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป:**
- ๐ ะััะตะฝัะธัะธะบะฐัะธั ะธ ัะฟัะฐะฒะปะตะฝะธะต ัะตััะธะตะน
- ๐ ะะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั ั ะบะปััะตะฒัะผะธ ะผะตััะธะบะฐะผะธ
- ๐ BPMN ัะตะดะฐะบัะพั ะดะปั ัะพะทะดะฐะฝะธั ะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะผะพะดะตะปะตะน ะฟัะพัะตััะพะฒ
- โ๏ธ ะะฝัะตััะตะนั ะดะปั ะทะฐะฟััะบะฐ ัะธะผัะปััะธะน
- ๐ ะัะพะฑัะฐะถะตะฝะธะต ะฐะฝะฐะปะธัะธะบะธ ะธ ะพััะตัะพะฒ
- ๐ค ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพัะธะปะตะผ ะฟะพะปัะทะพะฒะฐัะตะปั

**ะัะฝะพะฒะฝัะต ัะตัะฝะพะปะพะณะธะธ:** React 18, TypeScript, Tailwind CSS, Vite

**ะะพัั:** 3000 (ะฒ Docker), 5173 (ะฟัะธ ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะต)

---

### Backend Gateway (`afin-backend/services/gateway/`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:** ะะปะฐะฒะฝัะน entry point ะฒัะตะน ัะธััะตะผั, ะผะฐัััััะธะทะฐัะธั ะทะฐะฟัะพัะพะฒ.

**ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป:**
- ะะฑัะตะดะธะฝะตะฝะธะต ะฒัะตั ะผะธะบัะพัะตัะฒะธัะพะฒ
- ะะฐะปะธะดะฐัะธั ะทะฐะฟัะพัะพะฒ
- ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- ะะพะณะธัะพะฒะฐะฝะธะต ะพะฟะตัะฐัะธะน

**ะัะฝะพะฒะฝัะต ัะตัะฝะพะปะพะณะธะธ:** FastAPI, Python

**ะะพัั:** 8000

**API ะดะพะบัะผะตะฝัะฐัะธั:** http://localhost:8000/docs

---

### Auth Service (`afin-backend/services/auth/`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:** ะััะตะฝัะธัะธะบะฐัะธั ะธ ะฐะฒัะพัะธะทะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน.

**ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป:**
- โ ะะตะณะธัััะฐัะธั ะฝะพะฒัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ๐ ะัะพะด ะฒ ัะธััะตะผั (ะปะพะณะธะฝ)
- ๐ซ ะัะดะฐัะฐ JWT ัะพะบะตะฝะพะฒ (access + refresh)
- ๐ก๏ธ ะัะพะฒะตัะบะฐ ะธ ะพะฑะฝะพะฒะปะตะฝะธะต ัะพะบะตะฝะพะฒ
- ๐ฅ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพัะธะปะตะผ ะฟะพะปัะทะพะฒะฐัะตะปั
- ๐ ะฅะตัะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน (bcrypt)

**ะะปััะตะฒัะต ัะฐะนะปั:**
- `routers.py` - REST API ัะฝะดะฟะพะธะฝัั (`/api/auth/register`, `/api/auth/login`, `/api/users/profile`)
- `crud.py` - CRUD ะพะฟะตัะฐัะธะธ ั ะะ
- `models.py` - ORM ะผะพะดะตะปั User
- `utils/jwt.py` - ะกะพะทะดะฐะฝะธะต ะธ ะฟัะพะฒะตัะบะฐ JWT
- `utils/password.py` - ะฅะตัะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน

**ะัะฝะพะฒะฝัะต ัะตัะฝะพะปะพะณะธะธ:** FastAPI, SQLAlchemy, JWT, bcrypt

---

### Models Service (`afin-backend/services/models/`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:** ะฃะฟัะฐะฒะปะตะฝะธะต ะผะพะดะตะปัะผะธ ะฑะธะทะฝะตั-ะฟัะพัะตััะพะฒ (BPMN).

**ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป:**
- ๐ CRUD ะพะฟะตัะฐัะธะธ ะฝะฐะด ะผะพะดะตะปัะผะธ ะฟัะพัะตััะพะฒ
- ๐งฉ ะฃะฟัะฐะฒะปะตะฝะธะต ัะปะตะผะตะฝัะฐะผะธ ะดะธะฐะณัะฐะผะผั (tasks, gateways, events)
- ๐ ะกะพััะฐะฝะตะฝะธะต BPMN ะดะตัะธะฝะธัะธะน
- ๐ ะะพะธัะบ ะธ ัะธะปัััะฐัะธั ะผะพะดะตะปะตะน
- ๐ ะะพะฟะธัะพะฒะฐะฝะธะต ะธ ะดัะฑะปะธัะพะฒะฐะฝะธะต ะผะพะดะตะปะตะน

**ะะปััะตะฒัะต ัะฐะนะปั:**
- `routers.py` - REST API ัะฝะดะฟะพะธะฝัั ะดะปั CRUD ะผะพะดะตะปะตะน
- `crud.py` - ะะฐะฑะพัะฐ ั ะะ
- `models.py` - ORM ะผะพะดะตะปะธ (Model, Element)
- `schemas.py` - Pydantic ััะตะผั ะดะปั ะฒะฐะปะธะดะฐัะธะธ
- `utils/bpmn.py` - ะฃัะธะปะธัั ะดะปั ัะฐะฑะพัั ั BPMN

**API ะญะฝะดะฟะพะธะฝัั:**
- `GET /api/models` - ะกะฟะธัะพะบ ะฒัะตั ะผะพะดะตะปะตะน
- `POST /api/models` - ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะน ะผะพะดะตะปะธ
- `GET /api/models/{id}` - ะะพะปััะตะฝะธะต ะผะพะดะตะปะธ ะฟะพ ID
- `PUT /api/models/{id}` - ะะฑะฝะพะฒะปะตะฝะธะต ะผะพะดะตะปะธ
- `DELETE /api/models/{id}` - ะฃะดะฐะปะตะฝะธะต ะผะพะดะตะปะธ

---

### Simulation Service (`afin-backend/services/simulation/`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:** ะะธัะบัะตัะฝะฐั ัะธะผัะปััะธั ะฑะธะทะฝะตั-ะฟัะพัะตััะพะฒ.

**ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป:**
- โ๏ธ ะะฐะฟััะบ ัะธะผัะปััะธะน ะฟัะพัะตััะพะฒ
- ๐ ะััะธัะปะตะฝะธะต ะผะตััะธะบ (ะฟัะพะฟััะบะฝะฐั ัะฟะพัะพะฑะฝะพััั, ะฒัะตะผั ัะธะบะปะฐ, ััะพะธะผะพััั)
- ๐ ะะฝะฐะปะธะท ัะทะบะธั ะผะตัั (bottleneck analysis)
- ๐ ะกัะฐะฒะฝะตะฝะธะต ัะฐะทะปะธัะฝัั ััะตะฝะฐัะธะตะฒ
- ๐พ ะกะพััะฐะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ ัะธะผัะปััะธะน

**ะะปััะตะฒัะต ัะฐะนะปั:**
- `routers.py` - REST API ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะธะผัะปััะธัะผะธ
- `engine/simulator.py` - ๐ฎ **ะฏะดัะพ ัะธะผัะปััะธะธ ะฝะฐ SimPy**
  - ะัะฟะพะปัะทัะตั ะดะธัะบัะตัะฝัั ัะธะผัะปััะธั ะดะปั ะผะพะดะตะปะธัะพะฒะฐะฝะธั ะฟัะพัะตััะพะฒ
  - ะััะธัะปัะตั ะผะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
  - ะะฝะฐะปะธะทะธััะตั ัะทะบะธะต ะผะตััะฐ
- `company_context.py` - ะะพะฝัะตะบัั ะบะพะผะฟะฐะฝะธะธ (ัะตััััั, ะฟะฐัะฐะผะตััั)
- `models.py` - ORM ะผะพะดะตะปะธ ะดะปั ัะธะผัะปััะธะน
- `schemas.py` - Pydantic ััะตะผั

**API ะญะฝะดะฟะพะธะฝัั:**
- `POST /api/simulations` - ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะน ัะธะผัะปััะธะธ
- `GET /api/simulations` - ะกะฟะธัะพะบ ัะธะผัะปััะธะน
- `GET /api/simulations/{id}` - ะะตะทัะปััะฐัั ัะธะผัะปััะธะธ
- `POST /api/simulations/{id}/run` - ะะฐะฟััะบ ัะธะผัะปััะธะธ

**ะัะฝะพะฒะฝัะต ัะตัะฝะพะปะพะณะธะธ:** FastAPI, SimPy, Pandas

---

### Analytics Service (`afin-backend/services/analytics/`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:** ะะฝะฐะปะธะท ะธ ะฒะธะทัะฐะปะธะทะฐัะธั ะดะฐะฝะฝัั ะฟะพ ะฟัะพัะตััะฐะผ.

**ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป:**
- ๐ ะััะธัะปะตะฝะธะต ัะฒะพะดะฝัั ะผะตััะธะบ (KPI)
- ๐ ะะฝะฐะปะธะท ัะตะฝะดะตะฝัะธะน ะฟัะพัะตััะพะฒ
- ๐ ะะฝัะตะณัะฐัะธั ั LLM ะดะปั ะณะตะฝะตัะฐัะธะธ ะพะฑัััะฝะตะฝะธะน
- ๐ค ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะทะฐะดะตัะถะตะบ (ะธัะฟะพะปัะทัะตั ML ะผะพะดะตะปั)
- ๐ฏ ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะพะฟัะธะผะธะทะฐัะธะธ

**ะะปััะตะฒัะต ัะฐะนะปั:**
- `routers.py` - REST API ัะฝะดะฟะพะธะฝัั ะดะปั ะฐะฝะฐะปะธัะธะบะธ
- `llm_client.py` - ๐ ะะปะธะตะฝั ะดะปั ะพะฑัะฐัะตะฝะธั ะบ AI ัะตัะฒะธัั
- `ml_model_loader.py` - ะะฐะณััะทะบะฐ ะพะฑััะตะฝะฝะพะน LightGBM ะผะพะดะตะปะธ
- `ml/clustering.py` - ะะปะฐััะตัะธะทะฐัะธั ะฟัะพัะตััะพะฒ
- `ml/regression.py` - ะะตะณัะตััะธะพะฝะฝัะน ะฐะฝะฐะปะธะท

**API ะญะฝะดะฟะพะธะฝัั:**
- `GET /api/analytics/summary` - ะกะฒะพะดะฝัะต ะผะตััะธะบะธ
- `GET /api/analytics/trends` - ะขัะตะฝะดั ะฟัะพัะตััะพะฒ
- `POST /api/analytics/predict` - ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะทะฐะดะตัะถะตะบ
- `POST /api/analytics/explain` - ะะพะปััะตะฝะธะต AI ะพะฑัััะฝะตะฝะธั

**ะัะฝะพะฒะฝัะต ัะตัะฝะพะปะพะณะธะธ:** FastAPI, scikit-learn, LightGBM, Pandas

---

### AI Assistant Service (`ะัะพะตะบั_AI_ะฐััะธััะตะฝั_ัะฒะตะถะธะน/`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:** ะัะบััััะฒะตะฝะฝัะน ะธะฝัะตะปะปะตะบั ะดะปั ะฟัะพะณะฝะพะทะธัะพะฒะฐะฝะธั ะธ ะพะฑัััะฝะตะฝะธะน.

**ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป:**
- ๐ค **ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะทะฐะดะตัะถะตะบ ะทะฐะดะฐั** ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ LightGBM
- ๐ฌ **ะะตะฝะตัะฐัะธั ัะตะบััะพะฒัั ะพะฑัััะฝะตะฝะธะน** ั ะฟะพะผะพััั LLM (Qwen 2)
- ๐ฏ ะะฝะฐะปะธะท ะฟัะธะทะฝะฐะบะพะฒ ะฒะปะธัััะธั ะฝะฐ ะทะฐะดะตัะถะบั
- ๐ ะะฑัะฐะฑะพัะบะฐ ะธ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ะดะฐะฝะฝัั

**ะะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั:**

#### FastAPI Server (`FastAPI_server.py`)
- ๐ ะะปะฐะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
- ะญะฝะดะฟะพะธะฝัั:
  - `POST /predict_delay` - ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะทะฐะดะตัะถะบะธ ะทะฐะดะฐัะธ
  - `POST /explain` - ะะตะฝะตัะฐัะธั ะพะฑัััะฝะตะฝะธั ัะตัะตะท LLM
  - `GET /health` - ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะตัะฒะธัะฐ

#### ML Model (`model_and_scaler.py`)
- ๐ฆ ะะฐะณััะทะบะฐ ะพะฑััะตะฝะฝะพะน LightGBM ะผะพะดะตะปะธ
- StandardScaler ะดะปั ะฝะพัะผะฐะปะธะทะฐัะธะธ ะดะฐะฝะฝัั
- ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะฝะฐ ะพัะฝะพะฒะต ะฟัะธะทะฝะฐะบะพะฒ ะทะฐะดะฐัะธ

#### LLM Model (`LLM/model_predictor.py`)
- ๐ง ะะฐะณััะทะบะฐ Qwen 2 ะผะพะดะตะปะธ ะธะท Hugging Face
- ะะตะฝะตัะฐัะธั ัะตะบััะพะฒัั ะพะฑัััะฝะตะฝะธะน
- `generate_explanation()` - ััะฝะบัะธั ะดะปั ัะพะทะดะฐะฝะธั ะฟะพััะฝะตะฝะธะน

**ะัะพะดะฝัะต ะฟัะธะทะฝะฐะบะธ ะดะปั ะฟัะพะณะฝะพะทะธัะพะฒะฐะฝะธั:**
```python
{
    "expected_duration": float,      # ะะถะธะดะฐะตะผะฐั ะดะปะธัะตะปัะฝะพััั (ัะฐัั)
    "process_name": str,             # ะะฐะทะฒะฐะฝะธะต ะฟัะพัะตััะฐ
    "role": str,                     # ะะพะปั ะธัะฟะพะปะฝะธัะตะปั
    "department": str,               # ะัะดะตะป
    "status": str,                   # ะกัะฐััั ะทะฐะดะฐัะธ
    "month": int,                    # ะะตััั ะฒัะฟะพะปะฝะตะฝะธั
    "weekday": int                   # ะะตะฝั ะฝะตะดะตะปะธ
}
```

**ะััะพะดะฝัะต ะดะฐะฝะฝัะต:**
```python
{
    "delay_probability": float,      # ะะตัะพััะฝะพััั ะทะฐะดะตัะถะบะธ (0-1)
    "prediction": str,               # "delayed" ะธะปะธ "on_time"
    "explanation": str               # ะะฑัััะฝะตะฝะธะต ะพั LLM
}
```

**ะัะฝะพะฒะฝัะต ัะตัะฝะพะปะพะณะธะธ:** FastAPI, LightGBM, scikit-learn, Hugging Face, Qwen 2, Pandas

**ะะพัั:** 8001 (ะปะพะบะฐะปัะฝะพ), 8000 (ะฒ Docker)

---

## ๐ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

- **Docker Desktop** (ัะตะบะพะผะตะฝะดัะตััั)
- **Docker Compose** v1.29+
- ะกะฒะพะฑะพะดะฝัะต ะฟะพััั: 3000 (frontend), 8000 (backend), 8001 (AI ัะตัะฒะธั - ะพะฟัะธะพะฝะฐะปัะฝะพ)
- **ะะะฃ:** ะผะธะฝะธะผัะผ 2 GB ะดะปั ะฒัะตั ะบะพะฝัะตะนะฝะตัะพะฒ

ะะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ ะฑะตะท Docker:
- **Python** 3.10+
- **Node.js** 18+
- **npm** ะธะปะธ **yarn**

### ะัััััะน ะทะฐะฟััะบ ั Docker (ัะตะบะพะผะตะฝะดัะตััั)

#### Windows (PowerShell)

```powershell
# 1. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
cd C:\Users\Dodop\Desktop\ะฟัะพะตะบัั\afin

# 2. ะะฐะฟัััะธัะต ะฒัะต ัะตัะฒะธัั
docker-compose up --build

# โณ ะะถะธะดะฐะนัะต ะทะฐะณััะทะบะธ (ะพะฑััะฝะพ 2-3 ะผะธะฝััั ะฝะฐ ะฟะตัะฒัะน ัะฐะท)

# 3. ะ ะดััะณะพะผ ัะตัะผะธะฝะฐะปะต (ะพะฟัะธะพะฝะฐะปัะฝะพ) ัะพะทะดะฐะนัะต ัะตััะพะฒะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
docker exec -it afin-backend python create_test_user.py

# 4. ะัะบัะพะนัะต ะฑัะฐัะทะตั:
# - Frontend: http://localhost:3000
# - Backend API: http://localhost:8000/docs
# - AI Service: http://localhost:8001/docs (ะตัะปะธ ะทะฐะฟััะตะฝ ะพัะดะตะปัะฝะพ)
```

#### Linux/Mac

```bash
# 1. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
cd ~/projects/afin

# 2. ะะฐะฟัััะธัะต ะฒัะต ัะตัะฒะธัั
docker-compose up --build

# 3. ะ ะดััะณะพะผ ัะตัะผะธะฝะฐะปะต ัะพะทะดะฐะนัะต ัะตััะพะฒะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
docker exec -it afin-backend python create_test_user.py

# 4. ะัะบัะพะนัะต ะฑัะฐัะทะตั:
# - Frontend: http://localhost:3000
# - Backend API: http://localhost:8000/docs
```

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ (ะฑะตะท Docker)

#### Backend

```powershell
# 1. ะกะพะทะดะฐะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
cd afin-backend
python -m venv venv
.\venv\Scripts\Activate.ps1

# 2. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt

# 3. ะฃััะฐะฝะพะฒะธัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
$env:DATABASE_URL = "sqlite:///./storage/afin.db"
$env:JWT_SECRET = "super-secret-jwt-key-change-in-prod"

# 4. ะะฐะฟัััะธัะต backend
python -m uvicorn services.gateway.main:app --host 0.0.0.0 --port 8000 --reload

# 5. API ะดะพะบัะผะตะฝัะฐัะธั ะดะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัั:
# http://localhost:8000/docs
```

#### Frontend

```powershell
# 1. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั frontend
cd afin-frontend/frontend

# 2. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
npm install

# 3. ะะฐะฟัััะธัะต dev ัะตัะฒะตั
npm run dev

# 4. ะัะบัะพะนัะต ะฑัะฐัะทะตั ะฝะฐ http://localhost:5173
```

#### AI Service (ะพะฟัะธะพะฝะฐะปัะฝะพ)

```powershell
# 1. ะะตัะตะนะดะธัะต ะฒ ะดะธัะตะบัะพัะธั AI ัะตัะฒะธัะฐ
cd ะัะพะตะบั_AI_ะฐััะธััะตะฝั_ัะฒะตะถะธะน

# 2. ะกะพะทะดะฐะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
python -m venv venv
.\venv\Scripts\Activate.ps1

# 3. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt

# 4. ะกะบะฐัะฐะนัะต ะผะพะดะตะปะธ (ะฟะตัะฒัะน ัะฐะท ะทะฐะนะผะตั ะฒัะตะผั)
python LLM/download_model_with_lora.py

# 5. ะะฐะฟัััะธัะต ัะตัะฒะธั
python run_server.py

# 6. API ะดะพะบัะผะตะฝัะฐัะธั ะดะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัั:
# http://localhost:8001/docs
```

---

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั Backend

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะดะธัะตะบัะพัะธะธ `afin-backend/`:

```env
# ะะฐะทะฐ ะดะฐะฝะฝัั
DATABASE_URL=sqlite:///./storage/afin.db

# JWT ัะพะบะตะฝั
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15

# ะกะตัะฒะธั ะะ
LLM_SERVICE_URL=http://localhost:8001

# ะะพะณะธัะพะฒะฐะฝะธะต
LOG_LEVEL=INFO
```

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั Frontend

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะดะธัะตะบัะพัะธะธ `afin-frontend/`:

```env
# Backend API URL
VITE_API_BASE_URL=http://localhost:8000/api

# ะะบะปััะธัั ะพัะปะฐะดะบั
VITE_DEBUG=false
```

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั AI Service

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะดะธัะตะบัะพัะธะธ `ะัะพะตะบั_AI_ะฐััะธััะตะฝั_ัะฒะตะถะธะน/`:

```env
# ะะพะดะตะปั Hugging Face
HF_MODEL_NAME=SpaWn03/fixed-qwen2-1.5b-instruct-business-assistant

# ะขะพะบะตะฝ ะดะปั ะฟัะธะฒะฐัะฝัั ะผะพะดะตะปะตะน (ะพะฟัะธะพะฝะฐะปัะฝะพ)
# HF_TOKEN=your_huggingface_token_here

# ะะพัั ัะตัะฒะธัะฐ
PORT=8000

# ะะพะณะธัะพะฒะฐะฝะธะต
LOG_LEVEL=INFO
```

---

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### 1. ะัะพะด ะฒ ัะธััะตะผั

ะะพัะปะต ะทะฐะฟััะบะฐ ะฟัะธะปะพะถะตะฝะธั ะพัะบัะพะนัะต http://localhost:3000

**ะขะตััะพะฒัะต ััะตัะฝัะต ะดะฐะฝะฝัะต:**
- Email: `admin@afin.ru`
- ะะฐัะพะปั: `password123`

### 2. ะกะพะทะดะฐะฝะธะต ะผะพะดะตะปะธ ะฟัะพัะตััะฐ

1. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "ะะพะดะตะปะธ ะฟัะพัะตััะพะฒ"
2. ะะฐะถะผะธัะต "ะกะพะทะดะฐัั ะฝะพะฒัั ะผะพะดะตะปั"
3. ะะฒะตะดะธัะต ะฝะฐะทะฒะฐะฝะธะต ะผะพะดะตะปะธ
4. ะะฐะถะผะธัะต ะฝะฐ ะผะพะดะตะปั ะดะปั ะพัะบัััะธั BPMN ัะตะดะฐะบัะพัะฐ
5. ะะพะฑะฐะฒะปัะนัะต ัะปะตะผะตะฝัั (ะทะฐะดะฐัะธ, ัะปัะทั, ัะพะฑััะธั) ัะตัะตะท ะฟะฐะฝะตะปั ะธะฝััััะผะตะฝัะพะฒ
6. ะกะพััะฐะฝะธัะต ะผะพะดะตะปั

### 3. ะะฐะฟััะบ ัะธะผัะปััะธะธ

1. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "ะกะธะผัะปััะธะธ"
2. ะัะฑะตัะธัะต ะผะพะดะตะปั ะฟัะพัะตััะฐ
3. ะะฐัััะพะนัะต ะฟะฐัะฐะผะตััั:
   - ะะพะปะธัะตััะฒะพ ะธัะตัะฐัะธะน
   - ะะพัััะฟะฝะพััั ัะตััััะพะฒ
   - ะะฝัะตะฝัะธะฒะฝะพััั ะฟัะพัะตััะฐ
4. ะะฐะถะผะธัะต "ะะฐะฟัััะธัั ัะธะผัะปััะธั"
5. ะัะพัะผะพััะธัะต ัะตะทัะปััะฐัั ะธ ะผะตััะธะบะธ

### 4. ะะฝะฐะปะธะท ะธ ะฟัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต

1. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "ะะฝะฐะปะธัะธะบะฐ"
2. ะัะพัะผะพััะธัะต ะบะปััะตะฒัะต ะผะตััะธะบะธ ะฟัะพัะตััะพะฒ
3. ะะพะปััะธัะต ะฟัะพะณะฝะพะท ะทะฐะดะตัะถะตะบ ะดะปั ะทะฐะดะฐั
4. ะัะพัะธัะฐะนัะต AI-ะพะฑัััะฝะตะฝะธั ะฟัะธัะธะฝ ะทะฐะดะตัะถะตะบ

---

## ๐ API ะะพะบัะผะตะฝัะฐัะธั

### Backend API

ะะฝัะตัะฐะบัะธะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะดะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัั:
```
http://localhost:8000/docs
```

ะขะฐะบะถะต ะดะพัััะฟะฝะฐ ะฐะปััะตัะฝะฐัะธะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั:
```
http://localhost:8000/redoc
```

#### ะัะฝะพะฒะฝัะต ัะฝะดะฟะพะธะฝัั:

**ะััะตะฝัะธัะธะบะฐัะธั:**
```
POST /api/auth/register          - ะะตะณะธัััะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปั
POST /api/auth/login             - ะัะพะด ะฒ ัะธััะตะผั
POST /api/auth/refresh           - ะะฑะฝะพะฒะปะตะฝะธะต ัะพะบะตะฝะฐ
GET  /api/users/profile          - ะัะพัะธะปั ัะตะบััะตะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
```

**ะะพะดะตะปะธ ะฟัะพัะตััะพะฒ:**
```
GET    /api/models               - ะกะฟะธัะพะบ ะฒัะตั ะผะพะดะตะปะตะน
POST   /api/models               - ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะน ะผะพะดะตะปะธ
GET    /api/models/{id}          - ะะพะปััะตะฝะธะต ะผะพะดะตะปะธ ะฟะพ ID
PUT    /api/models/{id}          - ะะฑะฝะพะฒะปะตะฝะธะต ะผะพะดะตะปะธ
DELETE /api/models/{id}          - ะฃะดะฐะปะตะฝะธะต ะผะพะดะตะปะธ
```

**ะกะธะผัะปััะธะธ:**
```
GET    /api/simulations          - ะกะฟะธัะพะบ ัะธะผัะปััะธะน
POST   /api/simulations          - ะกะพะทะดะฐะฝะธะต ัะธะผัะปััะธะธ
GET    /api/simulations/{id}     - ะะตะทัะปััะฐัั ัะธะผัะปััะธะธ
POST   /api/simulations/{id}/run - ะะฐะฟััะบ ัะธะผัะปััะธะธ
```

**ะะฝะฐะปะธัะธะบะฐ:**
```
GET  /api/analytics/summary      - ะกะฒะพะดะฝัะต ะผะตััะธะบะธ
GET  /api/analytics/trends       - ะขัะตะฝะดั ะฟัะพัะตััะพะฒ
POST /api/analytics/predict      - ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะทะฐะดะตัะถะตะบ
POST /api/analytics/explain      - ะะฑัััะฝะตะฝะธะต ะทะฐะดะตัะถะตะบ
```

### AI Service API

ะะฝัะตัะฐะบัะธะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะดะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัั:
```
http://localhost:8001/docs
```

#### ะัะฝะพะฒะฝัะต ัะฝะดะฟะพะธะฝัั:

```
POST /predict_delay              - ะัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต ะทะฐะดะตัะถะบะธ ะทะฐะดะฐัะธ
POST /explain                    - ะะตะฝะตัะฐัะธั ะพะฑัััะฝะตะฝะธั
GET  /health                     - ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั ัะตัะฒะธัะฐ
```

**ะัะธะผะตั ะทะฐะฟัะพัะฐ ะฝะฐ ะฟัะพะณะฝะพะทะธัะพะฒะฐะฝะธะต:**

```json
POST /predict_delay

{
  "expected_duration": 8.0,
  "process_name": "Invoice Processing",
  "role": "Manager",
  "department": "Finance",
  "status": "active",
  "month": 1,
  "weekday": 3
}
```

**ะัะธะผะตั ะพัะฒะตัะฐ:**

```json
{
  "delay_probability": 0.75,
  "prediction": "delayed",
  "expected_delay_hours": 4.5,
  "explanation": "ะัะพะณะฝะพะทะธััะตััั ะทะฐะดะตัะถะบะฐ ะธะท-ะทะฐ ะฝะธะทะบะพะน ะดะพัััะฟะฝะพััะธ ะผะตะฝะตะดะถะตัะพะฒ ะฒ ััะพั ะฟะตัะธะพะด. ะะตะบะพะผะตะฝะดัะตััั ะฟะตัะตัะฐัะฟัะตะดะตะปะตะฝะธะต ัะตััััะพะฒ."
}
```

---

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### Docker ะฝะต ะทะฐะฟััะบะฐะตััั

```powershell
# ะฃะฑะตะดะธัะตัั, ััะพ Docker Desktop ะทะฐะฟััะตะฝ
Get-Process docker | Select-Object Name, Id

# ะัะพะฒะตัััะต ะฒะตััะธั
docker --version
docker-compose --version
```

### ะะพััั ัะถะต ะทะฐะฝััั

```powershell
# ะัะพะฒะตัััะต, ะบะฐะบะพะน ะฟัะพัะตัั ะธัะฟะพะปัะทัะตั ะฟะพัั
netstat -ano | findstr ":3000"     # Frontend
netstat -ano | findstr ":8000"     # Backend
netstat -ano | findstr ":8001"     # AI Service

# ะะฐะฒะตััะธัะต ะฟัะพัะตัั (ะตัะปะธ ะฝัะถะฝะพ)
taskkill /PID <PID> /F
```

### ะะ ะฝะต ะธะฝะธัะธะฐะปะธะทะธััะตััั

```powershell
# ะฃะดะฐะปะธัะต ััะฐััั ะะ
Remove-Item -Path "afin-backend/storage/afin.db" -Force

# ะะตัะตะทะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตั
docker-compose restart backend
```

### AI ัะตัะฒะธั ะผะตะดะปะตะฝะฝะพ ะทะฐะณััะถะฐะตััั

ะญัะพ ะฝะพัะผะฐะปัะฝะพ ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต - ะผะพะดะตะปั ะทะฐะณััะถะฐะตััั ั Hugging Face (~2-5 ะผะธะฝัั).

```powershell
# ะัะพะฒะตัััะต ะปะพะณะธ
docker logs ai-assistant

# ะะพัะปะต ะทะฐะณััะทะบะธ ะผะพะดะตะปั ะบััะธััะตััั ะปะพะบะฐะปัะฝะพ
```

---

## ๐ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั API

### ะัะธะผะตั: ะะพะปะฝัะน ัะธะบะป ัะฐะฑะพัั

```bash
# 1. ะะตะณะธัััะฐัะธั
curl -X POST http://localhost:8000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "password": "password123",
    "firstName": "John",
    "lastName": "Doe"
  }'

# 2. ะัะพะด
curl -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "password": "password123"
  }'

# 3. ะกะพะทะดะฐะฝะธะต ะผะพะดะตะปะธ
curl -X POST http://localhost:8000/api/models \
  -H "Authorization: Bearer <TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Invoice Processing",
    "description": "Process for handling invoices"
  }'

# 4. ะะฐะฟััะบ ัะธะผัะปััะธะธ
curl -X POST http://localhost:8000/api/simulations/1/run \
  -H "Authorization: Bearer <TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{
    "iterations": 100,
    "seed": 42
  }'

# 5. ะะพะปััะตะฝะธะต ะฟัะพะณะฝะพะทะฐ
curl -X POST http://localhost:8000/api/analytics/predict \
  -H "Authorization: Bearer <TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{
    "process_id": 1,
    "task_id": 5
  }'
```

---

## ๐ค ะะฐะทัะฐะฑะพัะบะฐ ะธ ัะตััะธัะพะฒะฐะฝะธะต

### ะะฐะฟััะบ ัะตััะพะฒ Backend

```bash
cd afin-backend
python -m pytest tests/
```

### ะะฐะฟััะบ ัะตััะพะฒ Frontend

```bash
cd afin-frontend/frontend
npm run test
```

### Lint ะธ ัะพัะผะฐัะธัะพะฒะฐะฝะธะต

```bash
# Backend
cd afin-backend
pylint services/

# Frontend
cd afin-frontend/frontend
npm run lint
```

---

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต

### ะัะพัะผะพัั ะปะพะณะพะฒ Docker ะบะพะฝัะตะนะฝะตัะพะฒ

```powershell
# ะะพะณะธ backend
docker logs afin-backend

# ะะพะณะธ frontend
docker logs afin-frontend

# ะะพะณะธ AI ัะตัะฒะธัะฐ
docker logs ai-assistant

# ะะตะฐะปัะฝะพะต ะฒัะตะผั (-f = follow)
docker logs -f afin-backend
```

### ะะฝัััะธ ะบะพะฝัะตะนะฝะตัะฐ

```powershell
# ะะฐะนัะธ ะฒ ะบะพะฝัะตะนะฝะตั
docker exec -it afin-backend /bin/bash

# ะัะพะฒะตัะธัั ะะ
sqlite3 storage/afin.db ".tables"
```

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

- [Backend README](afin-backend/README.md) - ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั backend
- [Frontend README](afin-frontend/README.md) - ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั frontend
- [ะัััััะน ััะฐัั Backend](afin-backend/QUICK_START.md)
- [ะัััััะน ััะฐัั Frontend](afin-frontend/QUICKSTART.md)
- [FastAPI ะดะพะบัะผะตะฝัะฐัะธั](https://fastapi.tiangolo.com/)
- [React ะดะพะบัะผะตะฝัะฐัะธั](https://react.dev/)
- [SimPy ะดะพะบัะผะตะฝัะฐัะธั](https://simpy.readthedocs.io/)
- [LightGBM ะดะพะบัะผะตะฝัะฐัะธั](https://lightgbm.readthedocs.io/)

---

## ๐ ะะธัะตะฝะทะธั

ะัะพะตะบั AFIN ัะฐะทัะฐะฑะพัะฐะฝ ะบะฐะบ ััะตะฑะฝัะน ะธ ะบะพะผะผะตััะตัะบะธะน ะฟัะพะตะบั.

---

## ๐ฅ ะะพะฝัะฐะบัั ะธ ะฟะพะดะดะตัะถะบะฐ

ะ ัะปััะฐะต ะฒะพะฟัะพัะพะฒ ะธะปะธ ะฟัะพะฑะปะตะผ:

1. ะัะพะฒะตัััะต ัะฐะทะดะตะปั [ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ](#๐-ัะตัะตะฝะธะต-ะฟัะพะฑะปะตะผ)
2. ะะทััะธัะต ะปะพะณะธ ะบะพะฝัะตะนะฝะตัะพะฒ
3. ะะฑัะฐัะธัะตัั ะบ API ะดะพะบัะผะตะฝัะฐัะธะธ (Swagger UI)
4. ะัะพะฒะตัััะต ะฟัะธะผะตัั ะฒ ัะฐะทะดะตะปะต [ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั API](#๐-ะฟัะธะผะตัั-ะธัะฟะพะปัะทะพะฒะฐะฝะธั-api)

---

**ะะตััะธั ะดะพะบัะผะตะฝัะฐัะธะธ:** 1.0  
**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** ัะฝะฒะฐัั 2026  
**ะกัะฐััั:** โ ะะบััะฐะปัะฝะพ
